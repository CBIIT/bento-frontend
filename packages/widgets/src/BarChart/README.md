# Overview

This component provides a Bento-oriented implementation of the <https://recharts.org/en-US/api/PieChart> pie chart. See below for basic usage.

# Usage

## Quick Start

<details>
  <summary>Basic Usage</summary>

  ```javascript
  // Import the component generator
  import { DonutChartGenerator } from '...'; // Note: Update ... to the component path

  // Initialize the component with default options
  // Generator will use DEFAULT_CONFIG_DONUT by default
  const { DonutChart } = DonutChartGenerator();

  // Use donut
  const chart = (<DonutChart
    data={[{name: 'Slice 1', value: 25}]}
    sliceTitle={'Cases'}
    width={185}
    height={210}
    innerRadius={45}
    outerRadius={80}
    titleLocation="bottom"
    titleAlignment="center"
  />);
  ```

</details>

<details>
  <summary>Ready-To-Go Example</summary>

  If you would like code you can copy-and-paste to test out the component, see below.
  This example provides a wrapper (`<CustomDonutUsage />`) for the donut.

  **Note**: You may need to update the import paths.

  ### App.js

  ```javascript
  import CustomDonutUsage from './CustomDonutUsage';

  // ... now use the example component <CustomDonutUsage /> somewhere in your app
  ```

  ### CustomDonutUsage.js

  ```javascript
  import React from 'react';
  import { DonutChartGenerator, DEFAULT_CONFIG_DONUT } from './DonutChart/DonutChartGenerator';

  // For this example, I'm using DEFAULT_CONFIG_DONUT
  // You can override the default options or pass null to the generator
  // The generator handles partial configs, too (i.e. custom styles but not functions)
  const { DonutChart } = CustomDonutGenerator(DEFAULT_CONFIG_DONUT);

  const CustomDonutUsage = () => {
    const data = [
      { name: 'Group A', value: 400 },
      { name: 'Group B', value: 650 },
      { name: 'Group C', value: 300 },
    ];

    return (
      <DonutChart
        data={data}
        sliceTitle={'Cases'}
        width={185}
        height={210}
        innerRadius={45}
        outerRadius={80}
        titleLocation="bottom"
        titleAlignment="center"
      />
    );
  };

  export default CustomDonutUsage;
  ```

</details>

## Generator Configuration

See the available `DEFAULT_CONFIG_DONUT` object to understand the component generator options. You can choose to override `styles`, `functions`, and/or slice `colors`. You DO NOT need to override all of the options if
you don't want to. The component generator will only use the options you provide (example: only `functions.mergeProps` or `colors.odd`).

```javascript
const DEFAULT_CONFIG_DONUT = {
  styles: {
    textColor: 'black',
    fontFamily: 'Nunito',
    fontWeight: 500,
    fontSize: '12px',
    cellPadding: 2, // Padding between observation cells
    showTotalCount: false, // e.g. "66 / 200 cases"
    textOverflowLength: 20, // Max length to trim titles to
  },

  functions: {
    /**
     * Merge Props and return result of callback
     *
     * @param {object} props
     * @param {object} extraProps
     * @param {function} callback
     * @return {any} result of callback
     */
    mergeProps: (props, extraProps, callback) => ...,

    /**
     * Return last index of dataset
     *
     * @param {object|array} dataset
     * @returns {number} last index of array
     */
    getLastIndex: (dataset) => ...,

    /**
     * Map dataset to {name, value} pairs
     *
     * Note:
     * - Called by Array.map()
     * - This is useful if you have data not in the [{name: "", value: 0}] shape
     *
     * @param {object} data
     * @returns {object} {name, value}
     */
    mapData: (data) => ...,

    /**
     * Generate an active shape element for the pie chart
     *
     * @param {*} props
     * @returns {JSX.Element}
     */
    renderActiveShape: (props) => ...,
  },

  colors: {
    even: ['#fff', ...],
    odd: ['#3b3b3b', ...],
  },
};
```

# Exports

The DonutChart component exports the following components and objects by default. You may use them as necessary.

- `DEFAULT_COLORS_EVEN` - An array of hex colors (7)
- `DEFAULT_COLORS_ODD` - An array of hex colors (7)
- `DEFAULT_CONFIG_DONUT` - A default configuration object used by the component
- `DonutChartGenerator(uiConfig = DEFAULT_CONFIG_DONUT)` - The component generator function

# Props

This DonutChart component, which is generated by the provided generator, accepts the following props directly. The default value is specified, along with the possible values.

```javascript
<DonutChart
  data={[]}               // your dataset, which is likely an array of objects
  sliceTitle=""           // The title for each slice (e.g. Cases, Observations)
  titleLocation="top"     // top, bottom
  titleAlignment="center" // left, right, center
  blendStroke={true}      // true, false
  innerRadius={0}
  outerRadius={0}
  width={0}
  height={0}
/>
```
